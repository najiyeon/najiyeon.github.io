---
# multilingual page pair id, this must pair with translations of this page. (This name must be unique)
lng_pair: id_SP_midterm4
title: "System Programming Ch5"

# post specific
# if not specified, .name will be used from _data/owner/[language].yml
author: Jiyeon Na
# multiple category is not supported
category: System Programming
# multiple tag entries are possible
tags: [SP, CH5, MIDTERM]
# thumbnail image for post
img: ":post_pic_sp_midterm4_main.png"
# disable comments on this page
#comments_disable: true

# publish date
date: 2022-10-21 16:00:00 +0900

# seo
# if not specified, date will be used.
#meta_modify_date: 2022-01-01 10:04:30 +0900
# check the meta_common_description in _data/owner/[language].yml
#meta_description: ""

# optional
# please use the "image_viewer_on" below to enable image viewer for individual pages or posts (_posts/ or [language]/_posts folders).
# image viewer can be enabled or disabled for all posts using the "image_viewer_posts: true" setting in _data/conf/main.yml.
#image_viewer_on: true
# please use the "image_lazy_loader_on" below to enable image lazy loader for individual pages or posts (_posts/ or [language]/_posts folders).
# image lazy loader can be enabled or disabled for all posts using the "image_lazy_loader_posts: true" setting in _data/conf/main.yml.
#image_lazy_loader_on: true
# exclude from on site search
#on_site_search_exclude: true
# exclude from search engines
#search_engine_exclude: true
# to disable this page, simply set published: false or delete this file
#published: false
---

# ğŸ’¡Â Chap_5

## Stream Orientation

```c
#include <stdio.h>
#include <wchar.h>
int fwide(FILE *fp, int mode);
```

***wchar.h*** : singlebyteë¥¼ ì“¸ì§€ multibyteë¥¼ ì“¸ì§€ ì œì–´í•  ìˆ˜ ìˆëŠ” í—¤ë”

***singlebyte*** : 1 byte (8bit)ë¡œ ë¬¸ìë¥¼ í‘œí˜„ ê°€ëŠ¥ í•œ ë¬¸ì â‡’ ASCII ì½”ë“œ

***multibyte*** : í•œê¸€ì„ í‘œí˜„í•˜ë ¤ë©´ ìµœì†Œ 2ë°”ì´íŠ¸ê°€ í•„ìš”í•¨, ì´ë•Œ ì“°ëŠ” ê²ƒ

***fwide*** : íŒŒì¼ì„ ì—¬ëŠ” ìˆœê°„ ì½ì„ê±´ì§€ ì“¸ê±´ì§€ ê²°ì •í•˜ëŠ” stream(í†µë¡œ)ì´ ìƒê¹€, ê·¸ ìŠ¤íŠ¸ë¦¼ì˜ ì†ì„±, ë°©í–¥ì„ ì§€ì •í•´ ì¤Œ, singlebyteë¡œ ì“¸ê±´ì§€ multibyteë¡œ ì“¸ê±´ì§€ ê²°ì •

<br>

## Buffering

```c
#include <stdio.h>
void setbuf(FILE *fp, char *buf);
int setvbuf(FILE *fp, char *buf, int mode, size_t size);
```

***setbuf*** 

- ë²„í¼ì˜ ì‚¬ìš©ì—¬ë¶€/ ë²„í¼ì˜ í¬ê¸°ë¥¼ ê²°ì •í•˜ëŠ” í•¨ìˆ˜
- char *buf ì¸ìì— nullì„ ë„£ìœ¼ë©´ ë²„í¼ë§ì„ ì•ˆí•¨ â‡’ ë²„í¼ë§ì„ í• ì§€ ë§ì§€ë„ ê²°ì •í•¨
- ì‚¬ìš©ì ì§€ì • ë²„í¼ë§

***setvbuf***

- ì¸ìì™€ ëª¨ë“œê°€ ë‹¤ë¦„
- mode : _IOFBF, _IOLBF, _IONBF
- ëª¨ë“œëŠ” ì‹œìŠ¤í…œì—ì„œ ì œê³µí•´ì£¼ëŠ” ê²ƒ, ì‹œìŠ¤í…œì—ì„œ ì •ì˜ëœ ëª¨ë“œë¥¼ ê°€ì ¸ë‹¤ ì”€

***fflush***

```c
#include <stdio.h>
int fflush(FILE *fp);
// A stream or all output streams, if fp is NULL, are flushed
```

- ë²„í¼ì— ìˆëŠ” ê²ƒì„ ë‹¤ ë‚ ë¦¼
- input streamì—ë„ ì“¸ ìˆ˜ ìˆìŒ
- ê·¼ë° ë³´í†µ outputì— ìˆëŠ” ê²ƒë§Œ ë‚ ë¦¼
- ì¸í’‹ì€ ì‚¬ìš©ìì…ë ¥ì´ë¯€ë¡œ ì˜¤ë¦¬ì§€ë„ ì •ë³´ê°€ í›¼ì†ëœë‹¤ê³  ìƒê°í•´ì„œ ì˜ flushí•˜ì§€ ì•ŠìŒ
- ì•„ì›ƒí’‹ì— ìˆëŠ” ê²ƒì€ ëª¨ì¢…ì˜ ì´ìœ ê°€ ìˆì–´ì„œ ì•„ì›ƒí’‹ì´ ì•ˆëœ ê²ƒ, ë”°ë¼ì„œ ë¬¸ì œê°€ ìˆëŠ” ê²ƒì´ë¯€ë¡œ ë‚ ë¦¼

<br>

## Opening a Stream


***fopen*** : íŒŒì¼ì„ ì—¬ëŠ” í•¨ìˆ˜

***freopen*** : íŒŒì¼ì„ ë‹¤ì‹œ ì—¬ëŠ” í•¨ìˆ˜

***fdopen*** : fopenê³¼ ë™ì¼í•œ ë™ì‘, pipeì™€ networkì˜ ê´€ë ¨ëœ ì±„ë„ì—ì„œ ì‚¬ìš©ë¨



***fclose***

- ì•„ì›ƒí’‹ ë²„í¼ë¥¼ flushë¡œ ë‹¤ ì§€ìš°ë©´ì„œ í• ë‹¹ë˜ì–´ìˆë˜ ë²„í¼ë¥¼ ìë™ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
- ë‹«ëŠ”ë‹¤ëŠ” í‚¤ì›Œë“œ ì—†ì´ fcloseë¥¼ ë¬¼ì–´ë³¼ ìˆ˜ë„ ìˆìŒ

<br>

## Reading and Writing a Stream


***getc*** 

- get character, ë¬¸ìë¥¼ ê°€ì ¸ì˜´
- ë©”í¬ë¡œì²˜ëŸ¼ ë™ì‘

***fgetc*** 

- charë¥¼ ì½ì–´ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ í†µ fgetcë¡œ í†µì¼ (fgetcë¥¼ í˜¸ì¶œí•˜ë©´ ì•ˆì—ì„œ getcê°€ ë™ì‘ë¨)
- ì‚¬ìš©ìë“¤ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ„í•´ ë§Œë“  í•¨ìˆ˜

***getchar*** 

- getc(stdin)ê³¼ ê°™ìŒ, ì¸ìê°€ í•„ìš”ì—†ìŒ, ì¸ìê°€ stdin(í‘œì¤€ì…ë ¥ 0)ìœ¼ë¡œ ê³ ì •

*í‚¤ë³´ë“œë¡œë¶€í„° ì…ë ¥ë°›ëŠ” ê²ƒì„ ë°›ì•„ë“¤ì´ê² ë‹¤ â‡’ getchar*

*íŒŒì¼ë¡œë¶€í„° í•œë¬¸ìì”© ì½ì–´ë“¤ì´ê² ë‹¤ â‡’ fgetc*

***ferror*** 

- getcì™€ ê°™ì€ í•¨ìˆ˜ëŠ” ì¤‘ê°„ì— ì—ëŸ¬ê°€ ë‚¬ëŠ”ì§€, íŒŒì¼ì˜ ëì¸ì§€ í™•ì¸ì´ ì•ˆë¨
- ì´ë•Œ ì—ëŸ¬ê°€ ë‚¬ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ëª¨ë‹ˆí„°ë§í•˜ëŠ” í•¨ìˆ˜

***feof*** 

- ferrorê³¼ ê°™ì€ ë™ì‘

***clearer***



***ungetc***

- ì½ì–´ì˜¤ëŠ” ìŠ¤íŠ¸ë¦¼
- ì½ì–´ì˜¤ëŠ” queue, ê·¸ ë²„í¼ì— ë‹¤ì‹œ ë„£ì–´ì¤Œ
- ë¬¸ìë¥¼ ì½ê³ ë‚˜ì„œ ë²„ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë„ë¡œ ë°˜í™˜

***putc***

- char ì“°ê¸°(ì¶œë ¥)

***fputc***

- ì•ˆì—ì„œ putc í˜¸ì¶œ

***putchar***

- stdout, í‘œì¤€ì¶œë ¥(1)ì„ ì¸ìë¡œ
- ëª¨ë‹ˆí„°ì— ë¬¸ì í•˜ë‚˜ë¥¼ ì¶œë ¥í•˜ëŠ” ê²ƒìœ¼ë¡œ ê³ ì •

<br>

## Line-at-a-Time I/O


***fgets***

- ë¬¸ìì—´ì„ ì…ë ¥ë°›ì„ ë•Œ ì“°ëŠ” í•¨ìˆ˜

***gets***

- ì–¼ë§ˆë§Œí¼ì˜ ì–‘ì„ ë°›ì•„ì˜¬ ì§€ ì¸ìë¡œ ë°›ì§€ ì•ŠìŒ
- ë”°ë¼ì„œ ì·¨ì•½í•˜ë¯€ë¡œ fgetsë¥¼ ì”€

***fputs***

- put string, ë¬¸ìì—´ì„ ì“¸(ì¶œë ¥í• ) ë•Œ ì“°ëŠ” í•¨ìˆ˜

***puts***

- fputsì™€ ê°™ì€ ë™ì‘
- ìë™ ì¤„ë°”ê¿ˆì´ ë¨

<br>

## Binary I/O

***fread, fwrite***

- ê³ ìˆ˜ì¤€ì˜ ì…ì¶œë ¥
- ê³ ìˆ˜ì¤€ ì…ì¶œë ¥í•¨ìˆ˜ë“¤ì€ unbufferedì˜ ë°˜ëŒ€, bufferedë¥¼ í•¨

<br>

## Positioning a Stream

***ftell***

- í•œ charì”© ì½ì–´ê°(getcë¡œ), ê·¸ë•Œ í¬ì¸í„°ê°€ í•˜ë‚˜ì”© ì›€ì§ì„
- ì´ë•Œ ì´ í¬ì¸í„°ê°€ ì–´ë””ìˆëŠ”ì§€ë¥¼ ì•Œë ¤ì¤Œ
- ì¦‰, ëª‡ë²ˆì§¸ê¹Œì§€ ì½ì—ˆëŠ”ì§€ ì•Œë ¤ì¤Œ
- ë””ìŠ¤í¬ë¦½í„° ë‚´ì— íŒŒì¼

***fseek***

- ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë°ë¡œ íŒŒì¼ í¬ì¸í„°ë¥¼ ì˜®ê²¨ê°
- ì¸ì whence (SEEK_SET, SEEK_CUR, SEEK_END)

***rewind***

- ì•„ì˜ˆ ì²˜ìŒìœ¼ë¡œ íŒŒì¼ í¬ì¸í„°ë¥¼ ì˜®ê¸°ëŠ” í•¨ìˆ˜

**(ë‹¨ë‹µí˜•)** ë””ìŠ¤í¬ë¦½í„° ë‚´ì— íŒŒì¼ í¬ì¸í„°ê°€ ê°€ë¦¬í‚¤ëŠ” ìœ„ì¹˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ â‡’ **ftell**

**(ë‹¨ë‹µí˜•)** ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ìœ„ì¹˜ë¡œ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ì˜ íŒŒì¼ í¬ì¸í„°ë¥¼ ì˜®ê¸°ëŠ” í•¨ìˆ˜ â‡’ **fseek**

**(ë‹¨ë‹µí˜•)** ë””ìŠ¤í¬ë¦½í„°ì˜ íŒŒì¼ í¬ì¸í„°ë¥¼ ì œì¼ ì²˜ìŒìœ¼ë¡œ ì˜®ê¸°ëŠ” í•¨ìˆ˜ â‡’ **rewind**

***ftello***

- ftellê³¼ ê°™ì€ ì—­í• 
- off_t ì˜ ìë£Œí˜•ìœ¼ë¡œ ë°˜í™˜ ë°›ìŒ

***fseeko***

- fseekê³¼ ê°™ì€ ì—­í• 
- offset ì¸ìˆ˜ì˜ ìë£Œí˜•ì´ off_t

***fgetpos***

- ftellê³¼ ê°™ì€ ì—­í• , ë””ìŠ¤í¬ë¦½í„°ì˜ íŒŒì¼ í¬ì¸í„°ì˜ ìœ„ì¹˜ë¥¼ ì•Œë ¤ì¤Œ
- ftellì€ posix, fgetposëŠ” isoc standardì—ì„œ ë§Œë“  í‘œì¤€

***fsetpos***

- fseekê³¼ ê°™ì€ ì—­í• 
- isoc í‘œì¤€

